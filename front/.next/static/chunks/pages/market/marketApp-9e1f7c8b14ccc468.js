(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{34903:function(e,t,n){"use strict";n.r(t);n(67294);var r=n(39711),a=n(85893);t.default=function(e){var t=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{width:"100%",height:"50px",border:"1px solid lightgray",marginTop:"-7px"},children:[(0,a.jsx)("img",{src:"../../static/market2.jpg",style:{position:"absolute",width:"100%",height:"5.8%",zIndex:"0"}}),(0,a.jsx)("span",{style:{position:"absolute",fontSize:"30px",marginLeft:"46%",color:"orange",fontWeight:"bold"},children:"H662-ANIMALS"})]}),(0,a.jsxs)("div",{style:{width:"100%",height:"50px",border:"1px solid lightgray"},children:[(0,a.jsx)(r.rU,{to:"market/main",children:(0,a.jsx)("button",{style:{width:"20%",height:"48px",fontSize:"30px",color:"#ffffff",backgroundColor:"violet",border:"2px solid gray"},children:"Main"})}),(0,a.jsx)(r.rU,{to:"market/my-animal",children:(0,a.jsx)("button",{style:{width:"40%",height:"48px",fontSize:"30px",color:"#ffffff",backgroundColor:"violet",border:"2px solid gray"},children:"My Animal"})}),(0,a.jsx)(r.rU,{to:"market/sale-animal",children:(0,a.jsx)("button",{style:{width:"40%",height:"48px",fontSize:"30px",color:"#ffffff",backgroundColor:"violet",border:"2px solid gray"},children:"Sale Animal"})})]}),(0,a.jsx)("div",{children:t})]})}},30878:function(e,t,n){"use strict";n.r(t);var r=n(50029),a=n(87794),i=n.n(a),o=n(67294),s=n(93869),l=n(79791),c=n(85893);t.default=function(e){var t=e.animalTokenId,n=e.animalType,a=e.animalPrice,d=e.saleStatus,u=e.account,p=(0,o.useState)(""),x=p[0],f=p[1],h=(0,o.useState)(a),m=h[0],g=h[1],b=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u&&d){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,s.saleAnimalTokenContract.methods.setForSaleAnimalToken(t,s.web3.utils.toWei(x,"ether")).send({from:u});case 5:(n=e.sent).status&&(g(s.web3.utils.toWei(x,"ether")),console.log(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{style:{float:"left",width:"26.6%",height:"600px",border:"3px solid orange",borderRadius:"10px 10px",backgroundColor:"#fafafa",marginLeft:"15.5%",marginBottom:"5%"},children:[(0,c.jsx)(l.default,{animalType:n}),(0,c.jsx)("div",{style:{position:"relative",textAlign:"center"},children:"0"===m?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{style:{position:"absolute"},children:[(0,c.jsx)("input",{type:"number",value:x,onChange:function(e){f(e.target.value)},style:{border:"3px solid black",borderRadius:"10px 10px",fontSize:"20px",height:"40px",width:"400px",fontWeight:"bold",marginTop:"5px",marginBottom:"5px"}}),(0,c.jsx)("button",{onClick:b,style:{fontWeight:"bold",fontSize:"20px",height:"40px",width:"400px",backgroundColor:"red",color:"white",borderRadius:"10px 10px"},children:"\ud314\ub2e4!"})]})}):(0,c.jsxs)("div",{style:{fontWeight:"bold",fontSize:"30px"},children:[(0,c.jsx)("div",{children:"\ud310\ub9e4 \ub4f1\ub85d\ub41c \uc0c1\ud488!"}),s.web3.utils.fromWei(m)," ETH"]})})]})})}},43389:function(e,t,n){"use strict";n.r(t);var r=n(50029),a=n(87794),i=n.n(a),o=n(67294),s=n(93869),l=n(79791),c=n(85893);t.default=function(e){var t=e.account,n=(0,o.useState)(),a=n[0],d=n[1],u=function(){var e=(0,r.Z)(i().mark((function e(){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,s.mintAnimalTokenContract.methods.mintAnimalToken().send({from:t});case 5:if(n=e.sent,console.log(n),!n.status){e.next=18;break}return e.next=10,s.mintAnimalTokenContract.methods.balanceOf(t).call();case 10:return r=e.sent,e.next=13,s.mintAnimalTokenContract.methods.tokenOfOwnerByIndex(t,parseInt(r,10)-1).call();case 13:return a=e.sent,e.next=16,s.mintAnimalTokenContract.methods.animalTypes(a).call();case 16:o=e.sent,d(o);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return(0,c.jsx)(c.Fragment,{children:a?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{style:{position:"relative"},children:[(0,c.jsx)("img",{src:"../../static/market.jpg",style:{position:"absolute",width:"100%",height:"700px",zIndex:"0"}}),(0,c.jsx)("span",{style:{position:"absolute",zIndex:"10",fontWeight:"bold",fontSize:"50px",color:"black",marginTop:"10%",marginLeft:"20%"},children:"\uce74\ub4dc\ub97c \ub9cc\ub4e4\uc790!"}),(0,c.jsx)("button",{onClick:u,style:{width:"260px",height:"100px",position:"absolute",zIndex:"10",marginTop:"15%",marginLeft:"20%",border:"3px solid orange",borderRadius:"10px 10px",fontSize:"60px",fontWeight:"bold",boxShadow:"0px 0px 20px 10px orange"},children:"\ub2e4\uc2dc\ub9cc\ub4e4\uae30"}),(0,c.jsx)("div",{style:{position:"absolute",zIndex:"10",fontWeight:"bold",fontSize:"50px",color:"black",marginTop:"0.5%",marginLeft:"50%"},children:"\uc0ac\uc9c4\uc774 \ucd94\uac00\ub418\uc5c8\uc5b4 \u2193"}),(0,c.jsx)("div",{style:{position:"absolute",zIndex:"10",float:"left",width:"26.3%",height:"505px",border:"3px solid orange",borderRadius:"10px 10px",backgroundColor:"#fafafa",marginLeft:"50%",marginBottom:"5%",marginTop:"5%",boxShadow:"0px 0px 30px 3px orange"},children:(0,c.jsx)(l.default,{animalType:a})})]})}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{style:{position:"relative"},children:[(0,c.jsx)("img",{src:"../../static/market.jpg",style:{position:"absolute",width:"100%",height:"700px",zIndex:"0"}}),(0,c.jsx)("span",{style:{position:"absolute",zIndex:"10",fontWeight:"bold",fontSize:"50px",color:"black",marginTop:"10%",marginLeft:"20%"},children:"\uce74\ub4dc\ub97c \ub9cc\ub4e4\uc790!"}),(0,c.jsx)("button",{onClick:u,style:{width:"260px",height:"100px",position:"absolute",zIndex:"10",marginTop:"15%",marginLeft:"20%",border:"3px solid orange",borderRadius:"10px 10px",fontSize:"60px",fontWeight:"bold",boxShadow:"0px 0px 20px 10px orange"},children:"MINT"}),(0,c.jsx)("div",{style:{position:"absolute",zIndex:"10",float:"left",width:"26.3%",height:"505px",border:"3px solid orange",borderRadius:"10px 10px",backgroundColor:"#fafafa",marginLeft:"50%",marginBottom:"5%",marginTop:"5%",boxShadow:"0px 0px 30px 3px orange"}})]})})})}},86439:function(e,t,n){"use strict";n.r(t);var r=n(50029),a=n(87794),i=n.n(a),o=n(67294),s=n(39711),l=n(96974),c=n(43389),d=n(34903),u=n(34093),p=n(31053),x=n(85893);t.default=function(){var e=(0,o.useState)(""),t=e[0],n=e[1],a=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.ethereum){e.next=6;break}return e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:t=e.sent,n(t[0]);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){a()}),[t]),(0,x.jsx)(s.VK,{children:(0,x.jsx)(d.default,{children:(0,x.jsxs)(l.Z5,{children:[(0,x.jsx)(l.AW,{path:"/market/main",element:(0,x.jsx)(c.default,{account:t})}),(0,x.jsx)(l.AW,{path:"/market/my-animal",element:(0,x.jsx)(u.default,{account:t})}),(0,x.jsx)(l.AW,{path:"/market/sale-animal",element:(0,x.jsx)(p.default,{account:t})})]})})})}},34093:function(e,t,n){"use strict";n.r(t);var r=n(50029),a=n(87794),i=n.n(a),o=n(67294),s=n(30878),l=n(93869),c=n(85893);t.default=function(e){var t=e.account,n=(0,o.useState)(),a=n[0],d=n[1],u=(0,o.useState)(!1),p=u[0],x=u[1],f=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.mintAnimalTokenContract.methods.balanceOf(t).call();case 3:if("0"!==e.sent){e.next=6;break}return e.abrupt("return");case 6:return n=[],e.next=9,l.mintAnimalTokenContract.methods.getAnimalTokens(t).call();case 9:e.sent.map((function(e){n.push({animalTokenId:e.animalTokenId,animalType:e.animalType,animalPrice:e.animalPrice})})),console.log("tempAnimalCardArray : ",n),d(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.mintAnimalTokenContract.methods.isApprovedForAll(t,l.saleAnimalTokenAddress).call();case 3:(n=e.sent)&&x(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,l.mintAnimalTokenContract.methods.setApprovalForAll(l.saleAnimalTokenAddress,!p).send({from:t});case 5:e.sent.status&&x(!p),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){t&&(f(),h())}),[t]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{style:{textAlign:"center",float:"left",width:"50%",height:"48px",fontSize:"30px",color:"#ffffff",backgroundColor:"violet",border:"2px solid gray"},children:(0,c.jsxs)("span",{children:["Sale Status : ",p?"True":"False"]})}),(0,c.jsx)("button",{onClick:m,"background-color":p?"red":"blue",style:{width:"50%",height:"48px",fontSize:"30px",color:"#ffffff",backgroundColor:"violet",border:"2px solid gray"},children:p?"Cancel":"Approve"})]}),(0,c.jsxs)("div",{style:{},children:[(0,c.jsx)("div",{style:{position:"absolute"},children:(0,c.jsx)("img",{src:"../../static/market.jpg",style:{position:"relative",width:"100%",height:"3000px",zIndex:"0"}})}),(0,c.jsx)("div",{style:{zIndex:"3",position:"relative",paddingTop:"20px"},children:a&&a.map((function(e,n){return(0,c.jsx)(s.default,{animalTokenId:e.animalTokenId,animalType:e.animalType,animalPrice:e.animalPrice,saleStatus:p,account:t},n)}))})]})]})}},31053:function(e,t,n){"use strict";n.r(t);var r=n(50029),a=n(87794),i=n.n(a),o=n(67294),s=n(93869),l=n(1603),c=n(85893);t.default=function(e){var t=e.account,n=(0,o.useState)(),a=n[0],d=n[1],u=function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r,a,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.saleAnimalTokenContract.methods.getOnSaleAnimalTokenArrayLength().call();case 3:t=e.sent,n=[],r=0;case 6:if(!(r<parseInt(t,10))){e.next=20;break}return e.next=9,s.saleAnimalTokenContract.methods.onSaleAnimalTokenArray(r).call();case 9:return a=e.sent,e.next=12,s.mintAnimalTokenContract.methods.animalTypes(a).call();case 12:return o=e.sent,e.next=15,s.saleAnimalTokenContract.methods.animalTokenPrices(a).call();case 15:l=e.sent,n.push({animalTokenId:a,animalType:o,animalPrice:l});case 17:r++,e.next=6;break;case 20:d(n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.error(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){u()}),[]),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{style:{position:"absolute"},children:[(0,c.jsx)("div",{style:{fontWeight:"bold",fontSize:"25px",border:"3px solid purple",borderRadius:"2px 2px",textAlign:"center"},children:"\uc5ec\uae34 \uac70\ub798\uc18c\uc57c!"}),(0,c.jsx)("img",{src:"../../static/market.jpg",style:{position:"relative",width:"100%",height:"3000px",zIndex:"0"}})]}),(0,c.jsx)("div",{style:{zIndex:"3",position:"relative",paddingTop:"60px"},children:a&&a.map((function(e,n){return(0,c.jsx)(l.default,{animalType:e.animalType,animalPrice:e.animalPrice,animalTokenId:e.animalTokenId,account:t,getOnSaleAnimalTokens:u},n)}))})]})}},79929:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market/marketApp",function(){return n(86439)}])}},function(e){e.O(0,[482,714,389,711,278,774,888,179],(function(){return t=79929,e(e.s=t);var t}));var t=e.O();_N_E=t}]);